WITH RECURSIVE Hierarchie AS (
    SELECT EmpID, ManagerID, 1 AS Uroven
    FROM Employees
    WHERE ManagerID IS NULL  

    UNION ALL

    SELECT e.EmpID, e.ManagerID, h.Uroven + 1
    FROM Employees e
    JOIN Hierarchie h ON e.ManagerID = h.EmpID
)
SELECT Uroven, COUNT(*) AS Pocet_Zamestnancu
FROM Hierarchie
GROUP BY Uroven
ORDER BY Uroven;
